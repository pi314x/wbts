<!DOCTYPE html>
<html lang="en"> 
  <head> 
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Token Gateway</title> 
    <script type="application/javascript" src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
    <!--<script type="application/javascript" src="https://github.com/bitshares/beet-js/blob/7dc5e90a6ca176c7abf1dc2216c758f326879458/dist/beet-js.js"></script>-->
    <script type="application/javascript" src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"></script>
    <script type="application/javascript" src="https://github.com/bitshares/bitsharesjs/releases/download/6.0.0/bitsharesjs.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script id = "chainlist" type="application/json" src="https://chainid.network/chains_mini.json"></script>
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="icon" type="img/vnd.microsoft.icon" href="favicon.ico">
    <script defer src="./app.js"></script>
  </head>
<body>
 <div class = "memoformat" id="caccount"></div>
 <div class = "maintenance" id="maintenance"></div>
 <nav class="navbar">
  <div class="container-fluid">
    <div class="navbar-header">
      <!--<a class="navbar-brand" href="#"></a>-->
    </div>
    <div class="nav">
    <ul class="nav navbar-nav navbar-right">
      <select name="network" id="network" class="form-select form-select-sm" >
        <option value="eth">Sepolia</option> 
        <option value="arb">Arbitrum One</option>
        <option value="bsc">Binance Smart Chain</option> 
        <option value="eos">EOS EVM</option>
      </select>
    </ul>
    <p>&nbsp;&nbsp;</p>
    <p><button type="button" class="btn button" onclick="connectWallet()" id="connectWallet">Connect</button><br /></p>
      </div>
    </div>
  </div>
  </nav>
  <div class = "container">
   <h2>Token Wrapper/Unwrapper (Beta)</h2>
    <p><div id = "wrappertext"></div></p>
   <div id = "installmetamask" class = "alert"></div>
  <p></p>
  <div class="tab">
  <button class="tablinks" onclick="openTab(event, 'Wrap', '#ccc')" id="defaultOpen">Wrap</button>
  <button class="tablinks" onclick="openTab(event, 'Unwrap', '#ccc')">Unwrap</button>
  <button class="tablinks" onclick="openTab(event, 'PoR', '#ccc')">Proof of Reserves</button>
 </div>
    <div id="Unwrap" class="tabcontent">
    <section class="form">
      <h2>Unwrap token</h2>
      <p><div>Please fill in <b>your</b> wallet address and the amount of tokens you want to unwrap. <br />
         Keep in mind that 1 token will be deducted after transfer to cover the transfer fees.</div></p>
      <p>
        <label for="wallet">Wallet:</label>
        <input type="text" id="wallet" class="input" style="text-transform:lowercase" />
      </p>
      <p>
        <label for="amount">Amount:</label>
        <input type="number" id="amount" value="" class="input" >
      </p>
     <!--<input type="range" name="rangeInput" min="0" max="balanceOfSlider()" onchange="updateTextInput(this.value);">-->
      <p></p><p>
      <!--<button type="button" class="btn button" onclick="connectWallet()" id="connectWallet">Connect wallet</button><br />-->
      <p>
      <div id="cbalance"></div></p>
      <p> 
      <button type="button" class="btn button" onclick="unwrap()" id="unwrap">Unwrap</button>
      <div id="txnhash"></div>
     </p><p></p>
    </section>
    <!--<div class="container"></div>-->
   </div>
   <div id="Wrap" class="tabcontent">
   <section class="form">
    <h2>Wrap Token</h2>
    <p><div id="custname"></div></p>
    <p><div id="memo"></div></p>
    <p><div id="memoformat" class="memoformat-black"></div><!--<button onclick="copyToClipboard()">&#x1f4cb;</button>--></p>
    <p><div id="fees"></div></p>
    <p><div id="minimum"></div></p>
   </section>
   </div>
   <div id="PoR" class="tabcontent">
   <section class="form">
    <h2>Proof of Reserves</h2>
    <div id="contractaddr"></div>
    <div id="ctotal"></div>
    <p></p>
    <div id="ccust"></div>
    <div id="cbalcust"></div>
    <p></p>
    <div id="dexprice"></div>
   </section>
   </div>
     <!--<p><a href = "https://t.me/wBitShares" target ="_blank"><img src="img/telegram.svg" class="responsive" alt="Telegram"</a></p>-->
   </div>
</div>
  <script>
  function openTab(evt, tabName, color) {
    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
      tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
      tablinks[i].className = tablinks[i].className.replace(" active", "");
      tablinks[i].style.backgroundColor = "";
    }
    document.getElementById(tabName).style.display = "block";
    evt.currentTarget.className += " active";
    /*evt.style.backgroundColor = color;*/
  }

  $(function() {
    var networkValue = localStorage.getItem("networkValue");
    if(networkValue != null) {
      $("select[name=network]").val(networkValue);
    } 
    $("select[name=network]").on("change", function() {
      localStorage.setItem("networkValue", $(this).val());
      location.reload(); 
    });
  })
  
  document.getElementById("defaultOpen").click();
   
  </script>
 </body>
</html>
